import{j as e,N as h}from"./navbar.EbWA8F7h.js";import{r}from"./index.WxXIy71t.js";/* empty css                        *//* empty css                       */const b=()=>{const[n,d]=r.useState(""),[o,c]=r.useState(""),[g,t]=r.useState(""),[f,i]=r.useState(!1),m=async a=>{a.preventDefault(),t(""),i(!0);const p={commandId:crypto.randomUUID(),payload:{email:n,password:o}};try{const s=await fetch("http://localhost:3000/pages/api/_find_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p),credentials:"include"}),l=await s.json();s.status==="accepted"?(console.log("Logged in successfully: ",l),window.location.href="/"):s.status==="already processed"?t("This command has already been processed"):s.error?t(l.error):t("Log in failed. Please try again.")}catch(s){console.log("Failed to send login command: ",s),t("Network error. Please try again.")}finally{i(!1)}},u=()=>{window.location.href="/register"};return e.jsxs("div",{className:"signin-container",children:[e.jsx(h,{}),e.jsx("main",{children:e.jsxs("form",{className:"signin-form",onSubmit:m,children:[e.jsx("h2",{children:"SyncUp"}),e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:n,onChange:a=>d(a.target.value),required:!0}),e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",value:o,onChange:a=>c(a.target.value),required:!0}),e.jsx("button",{type:"submit",children:"Sign In"}),e.jsx("div",{className:"register-link",children:e.jsx("button",{type:"button",onClick:u,children:"Register"})})]})})]})};export{b as default};
